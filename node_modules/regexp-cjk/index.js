"use strict";
/**
 * Created by user on 2018/1/31/031.
 */
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const regexp_parser_event_1 = require("regexp-parser-event");
exports.ParserEventEmitter = regexp_parser_event_1.ParserEventEmitter;
const core_1 = require("./lib/core");
const regexp_helper_1 = require("regexp-helper");
exports.isRegExp = regexp_helper_1.isRegExp;
const RegexpHelper = __importStar(require("regexp-helper"));
const mergeOptions_1 = __importStar(require("./lib/mergeOptions"));
const getSource_1 = require("./lib/getSource");
exports.parseRegularExpressionString = getSource_1.parseRegularExpressionString;
/**
 * @deprecated
 */
exports.defaultOptions = {};
class zhRegExp extends RegExp {
    constructor(str, ...argv) {
        let { source, flags } = core_1.coreHandler(str, ...argv);
        super(source, flags);
    }
    /**
     * create a new zhRegExp class with default value
     * @example `zhRegExp.use(defaultOptions)`
     */
    static use(defaultOptions) {
        defaultOptions = mergeOptions_1.mergeOptions2({}, this[core_1.SymDefaults], defaultOptions);
        const zhRegExpNew = new Proxy(zhRegExp, {
            // @ts-ignore
            construct(target, argArray, newTarget) {
                let { str, flags, options, argv } = mergeOptions_1.getSettingOptions(...argArray);
                options = mergeOptions_1.default({}, defaultOptions, options);
                return new zhRegExp(str, flags, options, ...argv);
            },
            // @ts-ignore
            get(target, key) {
                if (key === core_1.SymDefaults) {
                    return defaultOptions;
                }
                return target[key];
            },
        });
        return zhRegExpNew;
    }
    static create(str, flags = null, skip, ...argv) {
        return new this(str, flags, skip, ...argv);
    }
    getStatic() {
        return Object.getPrototypeOf(this);
    }
    /**
     * @todo
     */
    toRegularExpressionString() {
        return this.toString();
        //return `/${this.source}/${this.flags}`;
    }
    static parseRegularExpressionString(str) {
        return getSource_1.parseRegularExpressionString(str);
    }
    static get support() {
        return require('regexp-support').default;
    }
    static get version() {
        return require('./package.json').version;
    }
}
exports.zhRegExp = zhRegExp;
(function (zhRegExp) {
    zhRegExp.isRegExp = RegexpHelper.isRegExp;
})(zhRegExp = exports.zhRegExp || (exports.zhRegExp = {}));
exports.create = zhRegExp.create.bind(zhRegExp);
Object.defineProperty(exports, "version", {
    get() {
        return require('./package.json').version;
    }
});
exports.default = zhRegExp;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7Ozs7Ozs7OztBQUdILDZEQUs2QjtBQW1CSyw2QkFyQmpDLHdDQUFrQixDQXFCaUM7QUFqQnBELHFDQVNvQjtBQUNwQixpREFBeUM7QUErSmhDLG1CQS9KQSx3QkFBUSxDQStKQTtBQTVKakIsNERBQThDO0FBQzlDLG1FQUFvRjtBQUNwRiwrQ0FBK0Q7QUEwSjVDLHVDQTFKVix3Q0FBNEIsQ0EwSlU7QUFsSi9DOztHQUVHO0FBQ1UsUUFBQSxjQUFjLEdBQWEsRUFBRSxDQUFDO0FBRTNDLE1BQWEsUUFBUyxTQUFRLE1BQU07SUEwRm5DLFlBQVksR0FBRyxFQUFFLEdBQUcsSUFBSTtRQUV2QixJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLGtCQUFXLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFFbEQsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBNUNEOzs7T0FHRztJQUNILE1BQU0sQ0FBQyxHQUFHLENBQUMsY0FBNkI7UUFFdkMsY0FBYyxHQUFHLDRCQUFhLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxrQkFBVyxDQUFDLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFFdEUsTUFBTSxXQUFXLEdBQUcsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFO1lBQ3ZDLGFBQWE7WUFDYixTQUFTLENBQUMsTUFBdUIsRUFBRSxRQUFpQixFQUFFLFNBQWU7Z0JBRXBFLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxnQ0FBaUIsQ0FBQyxHQUFHLFFBQW1DLENBQUMsQ0FBQztnQkFFOUYsT0FBTyxHQUFHLHNCQUFZLENBQUMsRUFBRSxFQUFFLGNBQWMsRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFFcEQsT0FBTyxJQUFJLFFBQVEsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO1lBQ25ELENBQUM7WUFFRCxhQUFhO1lBQ2IsR0FBRyxDQUFDLE1BQXNCLEVBQUUsR0FBdUM7Z0JBRWxFLElBQUksR0FBRyxLQUFLLGtCQUFXLEVBQ3ZCO29CQUNDLE9BQU8sY0FBYyxDQUFBO2lCQUNyQjtnQkFFRCxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNwQixDQUFDO1NBRUQsQ0FBQyxDQUFDO1FBRUgsT0FBTyxXQUFXLENBQUE7SUFDbkIsQ0FBQztJQWVELE1BQU0sQ0FBQyxNQUFNLENBQWUsR0FBRyxFQUFFLEtBQUssR0FBRyxJQUFJLEVBQUUsSUFBSyxFQUFFLEdBQUcsSUFBSTtRQUU1RCxPQUFPLElBQUksSUFBSSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUVELFNBQVM7UUFFUixPQUFPLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUVEOztPQUVHO0lBQ0gseUJBQXlCO1FBRXhCLE9BQU8sSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3ZCLHlDQUF5QztJQUMxQyxDQUFDO0lBRUQsTUFBTSxDQUFDLDRCQUE0QixDQUFDLEdBQVc7UUFFOUMsT0FBTyx3Q0FBNEIsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRUQsTUFBTSxLQUFLLE9BQU87UUFFakIsT0FBTyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxPQUFrRCxDQUFDO0lBQ3JGLENBQUM7SUFFRCxNQUFNLEtBQUssT0FBTztRQUVqQixPQUFPLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQTtJQUN6QyxDQUFDO0NBQ0Q7QUFwSUQsNEJBb0lDO0FBRUQsV0FBaUIsUUFBUTtJQUVWLGlCQUFRLEdBQUcsWUFBWSxDQUFDLFFBQVEsQ0FBQztBQUNoRCxDQUFDLEVBSGdCLFFBQVEsR0FBUixnQkFBUSxLQUFSLGdCQUFRLFFBR3hCO0FBRVksUUFBQSxNQUFNLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUEyQixDQUFDO0FBYS9FLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRTtJQUN6QyxHQUFHO1FBRUYsT0FBTyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxPQUFPLENBQUE7SUFDekMsQ0FBQztDQUNELENBQUMsQ0FBQztBQUVILGtCQUFlLFFBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSB1c2VyIG9uIDIwMTgvMS8zMS8wMzEuXG4gKi9cblxuaW1wb3J0IHsgSUFzdFRvU3RyaW5nT3B0aW9ucyB9IGZyb20gJ3JlZ2V4cC1wYXJzZXItbGl0ZXJhbCc7XG5pbXBvcnQge1xuXHRJTm9kZUlucHV0LFxuXHRJUGFyc2VyRXZlbnRFbWl0dGVyTGlzdGVuZXIsXG5cdFBhcnNlckV2ZW50RW1pdHRlcixcblx0UGFyc2VyRXZlbnRFbWl0dGVyRXZlbnQsXG59IGZyb20gJ3JlZ2V4cC1wYXJzZXItZXZlbnQnO1xuaW1wb3J0IF9zdXBwb3J0IGZyb20gJ3JlZ2V4cC1zdXBwb3J0JztcbmltcG9ydCB7XG5cdGNvcmVIYW5kbGVyLFxuXHRJQ29yZUhhbmRsZXJSZXR1cm4sXG5cdElPcHRpb25zLFxuXHRJT3B0aW9uc0NvcmUsXG5cdElPcHRpb25zSW5wdXQsXG5cdElPcHRpb25zT24sXG5cdElPcHRpb25zUnVudGltZSwgSVJlZ0V4cFVzZXJJbnB1dCxcblx0U3ltRGVmYXVsdHMsXG59IGZyb20gJy4vbGliL2NvcmUnO1xuaW1wb3J0IHsgaXNSZWdFeHAgfSBmcm9tICdyZWdleHAtaGVscGVyJztcbmltcG9ydCB7IElPcHRpb25zIGFzIElPcHRpb25zWmhUYWJsZSB9IGZyb20gJ2Nqay1jb252L2xpYi96aC90YWJsZS9pbmRleCc7XG5pbXBvcnQgbWVyZ2UgZnJvbSAnbG9kYXNoL21lcmdlJztcbmltcG9ydCAqIGFzIFJlZ2V4cEhlbHBlciBmcm9tICdyZWdleHAtaGVscGVyJztcbmltcG9ydCBtZXJnZU9wdGlvbnMsIHsgZ2V0U2V0dGluZ09wdGlvbnMsIG1lcmdlT3B0aW9uczIgfSBmcm9tICcuL2xpYi9tZXJnZU9wdGlvbnMnO1xuaW1wb3J0IHsgcGFyc2VSZWd1bGFyRXhwcmVzc2lvblN0cmluZyB9IGZyb20gJy4vbGliL2dldFNvdXJjZSc7XG5cbmV4cG9ydCB7IFBhcnNlckV2ZW50RW1pdHRlckV2ZW50LCBQYXJzZXJFdmVudEVtaXR0ZXIsIElOb2RlSW5wdXQsIElQYXJzZXJFdmVudEVtaXR0ZXJMaXN0ZW5lciwgSUFzdFRvU3RyaW5nT3B0aW9ucyB9XG5cbmV4cG9ydCB7IElPcHRpb25zLCBJT3B0aW9uc1J1bnRpbWUsIElPcHRpb25zSW5wdXQsIElDb3JlSGFuZGxlclJldHVybiwgSU9wdGlvbnNPbiwgSU9wdGlvbnNDb3JlIH1cblxuZXhwb3J0IHsgSU9wdGlvbnNaaFRhYmxlIH1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdE9wdGlvbnM6IElPcHRpb25zID0ge307XG5cbmV4cG9ydCBjbGFzcyB6aFJlZ0V4cCBleHRlbmRzIFJlZ0V4cFxue1xuXHRwdWJsaWMgc291cmNlOiBzdHJpbmc7XG5cdHB1YmxpYyBmbGFnczogc3RyaW5nO1xuXG5cdHB1YmxpYyBkb3RBbGw6IGJvb2xlYW47XG5cblx0cHVibGljIGlnbm9yZUNhc2U6IGJvb2xlYW47XG5cdHB1YmxpYyBnbG9iYWw6IGJvb2xlYW47XG5cdHB1YmxpYyBtdWx0aWxpbmU6IGJvb2xlYW47XG5cdHB1YmxpYyBzdGlja3k6IGJvb2xlYW47XG5cdHB1YmxpYyB1bmljb2RlOiBib29sZWFuO1xuXG5cdHB1YmxpYyBsYXN0SW5kZXg6IG51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIG5vbi1zdGFuZGFyZCBsZWZ0Q29udGV4dCBwcm9wZXJ0eSBpcyBhIHN0YXRpYyBhbmQgcmVhZC1vbmx5IHByb3BlcnR5IG9mIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdGhhdCBjb250YWlucyB0aGUgc3Vic3RyaW5nIHByZWNlZGluZyB0aGUgbW9zdCByZWNlbnQgbWF0Y2guIFJlZ0V4cC4kYCBpcyBhbiBhbGlhcyBmb3IgdGhpcyBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGFsaWFzICRgXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGxlZnRDb250ZXh0OiBzdHJpbmc7XG5cdC8qKlxuXHQgKiBUaGUgbm9uLXN0YW5kYXJkIHJpZ2h0Q29udGV4dCBwcm9wZXJ0eSBpcyBhIHN0YXRpYyBhbmQgcmVhZC1vbmx5IHByb3BlcnR5IG9mIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdGhhdCBjb250YWlucyB0aGUgc3Vic3RyaW5nIGZvbGxvd2luZyB0aGUgbW9zdCByZWNlbnQgbWF0Y2guIFJlZ0V4cC4kJyBpcyBhbiBhbGlhcyBmb3IgdGhpcyBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGFsaWFzICQnXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHJpZ2h0Q29udGV4dDogc3RyaW5nO1xuXHQvKipcblx0ICogVGhlIG5vbi1zdGFuZGFyZCBsYXN0UGFyZW4gcHJvcGVydHkgaXMgYSBzdGF0aWMgYW5kIHJlYWQtb25seSBwcm9wZXJ0eSBvZiByZWd1bGFyIGV4cHJlc3Npb25zIHRoYXQgY29udGFpbnMgdGhlIGxhc3QgcGFyZW50aGVzaXplZCBzdWJzdHJpbmcgbWF0Y2gsIGlmIGFueS4gUmVnRXhwLiQrIGlzIGFuIGFsaWFzIGZvciB0aGlzIHByb3BlcnR5LlxuXHQgKlxuXHQgKiBAYWxpYXMgJCtcblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgbGFzdFBhcmVuOiBzdHJpbmc7XG5cdC8qKlxuXHQgKiBUaGUgbm9uLXN0YW5kYXJkIGxhc3RNYXRjaCBwcm9wZXJ0eSBpcyBhIHN0YXRpYyBhbmQgcmVhZC1vbmx5IHByb3BlcnR5IG9mIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdGhhdCBjb250YWlucyB0aGUgbGFzdCBtYXRjaGVkIGNoYXJhY3RlcnMuIFJlZ0V4cC4kJiBpcyBhbiBhbGlhcyBmb3IgdGhpcyBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGFsaWFzICQmXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGxhc3RNYXRjaDogc3RyaW5nO1xuXHQvKipcblx0ICogVGhlIG5vbi1zdGFuZGFyZCBpbnB1dCBwcm9wZXJ0eSBpcyBhIHN0YXRpYyBwcm9wZXJ0eSBvZiByZWd1bGFyIGV4cHJlc3Npb25zIHRoYXQgY29udGFpbnMgdGhlIHN0cmluZyBhZ2FpbnN0IHdoaWNoIGEgcmVndWxhciBleHByZXNzaW9uIGlzIG1hdGNoZWQuIFJlZ0V4cC4kXyBpcyBhbiBhbGlhcyBmb3IgdGhpcyBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGFsaWFzICRfXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGlucHV0OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIGRlZmF1bHQgdmFsdWUgb25seSBleGlzdHMgYW5kIHdvcmsgd2hlbiB1c2UgYHpoUmVnRXhwLnVzZShkZWZhdWx0T3B0aW9ucylgXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFtTeW1EZWZhdWx0c106IElPcHRpb25zSW5wdXQ7XG5cblx0LyoqXG5cdCAqIGNyZWF0ZSBhIG5ldyB6aFJlZ0V4cCBjbGFzcyB3aXRoIGRlZmF1bHQgdmFsdWVcblx0ICogQGV4YW1wbGUgYHpoUmVnRXhwLnVzZShkZWZhdWx0T3B0aW9ucylgXG5cdCAqL1xuXHRzdGF0aWMgdXNlKGRlZmF1bHRPcHRpb25zOiBJT3B0aW9uc0lucHV0KTogdHlwZW9mIHpoUmVnRXhwXG5cdHtcblx0XHRkZWZhdWx0T3B0aW9ucyA9IG1lcmdlT3B0aW9uczIoe30sIHRoaXNbU3ltRGVmYXVsdHNdLCBkZWZhdWx0T3B0aW9ucyk7XG5cblx0XHRjb25zdCB6aFJlZ0V4cE5ldyA9IG5ldyBQcm94eSh6aFJlZ0V4cCwge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y29uc3RydWN0KHRhcmdldDogdHlwZW9mIHpoUmVnRXhwLCBhcmdBcnJheTogdW5rbm93biwgbmV3VGFyZ2V0PzogYW55KVxuXHRcdFx0e1xuXHRcdFx0XHRsZXQgeyBzdHIsIGZsYWdzLCBvcHRpb25zLCBhcmd2IH0gPSBnZXRTZXR0aW5nT3B0aW9ucyguLi5hcmdBcnJheSBhcyBbSVJlZ0V4cFVzZXJJbnB1dCwgYW55XSk7XG5cblx0XHRcdFx0b3B0aW9ucyA9IG1lcmdlT3B0aW9ucyh7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuXG5cdFx0XHRcdHJldHVybiBuZXcgemhSZWdFeHAoc3RyLCBmbGFncywgb3B0aW9ucywgLi4uYXJndik7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRnZXQodGFyZ2V0OiBrZXlvZiB6aFJlZ0V4cCwga2V5OiBrZXlvZiB6aFJlZ0V4cCB8dHlwZW9mIFN5bURlZmF1bHRzKVxuXHRcdFx0e1xuXHRcdFx0XHRpZiAoa2V5ID09PSBTeW1EZWZhdWx0cylcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHJldHVybiBkZWZhdWx0T3B0aW9uc1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRhcmdldFtrZXldO1xuXHRcdFx0fSxcblxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHpoUmVnRXhwTmV3XG5cdH1cblxuXHRjb25zdHJ1Y3RvcihzdHI6IElSZWdFeHBVc2VySW5wdXQsIG9wdGlvbnM/OiBJT3B0aW9uc0lucHV0LCAuLi5hcmd2KVxuXHRjb25zdHJ1Y3RvcihzdHI6IElSZWdFeHBVc2VySW5wdXQsIGZsYWdzPzogc3RyaW5nLCBvcHRpb25zPzogSU9wdGlvbnNJbnB1dCwgLi4uYXJndilcblx0Y29uc3RydWN0b3Ioc3RyOiBJUmVnRXhwVXNlcklucHV0LCBmbGFnczogc3RyaW5nLCBza2lwOiBzdHJpbmcsIC4uLmFyZ3YpXG5cdGNvbnN0cnVjdG9yKHN0cjogSVJlZ0V4cFVzZXJJbnB1dCwgZmxhZ3M6IHN0cmluZywgb3B0aW9ucz86IElPcHRpb25zSW5wdXQgfCBzdHJpbmcsIC4uLmFyZ3YpXG5cdGNvbnN0cnVjdG9yKHN0ciwgLi4uYXJndilcblx0e1xuXHRcdGxldCB7IHNvdXJjZSwgZmxhZ3MgfSA9IGNvcmVIYW5kbGVyKHN0ciwgLi4uYXJndik7XG5cblx0XHRzdXBlcihzb3VyY2UsIGZsYWdzKTtcblx0fVxuXG5cdHN0YXRpYyBjcmVhdGU8VCA9IHpoUmVnRXhwPihzdHI6IElSZWdFeHBVc2VySW5wdXQsIGZsYWdzPzogc3RyaW5nLCBvcHRpb25zPzogSU9wdGlvbnNJbnB1dCB8IHN0cmluZyk6IFRcblx0c3RhdGljIGNyZWF0ZTxUID0gemhSZWdFeHA+KHN0cjogSVJlZ0V4cFVzZXJJbnB1dCwgb3B0aW9ucz86IElPcHRpb25zSW5wdXQpOiBUXG5cdHN0YXRpYyBjcmVhdGU8VCA9IHpoUmVnRXhwPihzdHIsIGZsYWdzID0gbnVsbCwgc2tpcD8sIC4uLmFyZ3YpXG5cdHtcblx0XHRyZXR1cm4gbmV3IHRoaXMoc3RyLCBmbGFncywgc2tpcCwgLi4uYXJndik7XG5cdH1cblxuXHRnZXRTdGF0aWM8VCA9IHR5cGVvZiB6aFJlZ0V4cD4oKTogVFxuXHR7XG5cdFx0cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAdG9kb1xuXHQgKi9cblx0dG9SZWd1bGFyRXhwcmVzc2lvblN0cmluZygpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy50b1N0cmluZygpO1xuXHRcdC8vcmV0dXJuIGAvJHt0aGlzLnNvdXJjZX0vJHt0aGlzLmZsYWdzfWA7XG5cdH1cblxuXHRzdGF0aWMgcGFyc2VSZWd1bGFyRXhwcmVzc2lvblN0cmluZyhzdHI6IHN0cmluZylcblx0e1xuXHRcdHJldHVybiBwYXJzZVJlZ3VsYXJFeHByZXNzaW9uU3RyaW5nKHN0cik7XG5cdH1cblxuXHRzdGF0aWMgZ2V0IHN1cHBvcnQoKVxuXHR7XG5cdFx0cmV0dXJuIHJlcXVpcmUoJ3JlZ2V4cC1zdXBwb3J0JykuZGVmYXVsdCBhcyB0eXBlb2YgaW1wb3J0KCdyZWdleHAtc3VwcG9ydCcpLmRlZmF1bHQ7XG5cdH1cblxuXHRzdGF0aWMgZ2V0IHZlcnNpb24oKTogc3RyaW5nXG5cdHtcblx0XHRyZXR1cm4gcmVxdWlyZSgnLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uXG5cdH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSB6aFJlZ0V4cFxue1xuXHRleHBvcnQgaW1wb3J0IGlzUmVnRXhwID0gUmVnZXhwSGVscGVyLmlzUmVnRXhwO1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlID0gemhSZWdFeHAuY3JlYXRlLmJpbmQoemhSZWdFeHApIGFzIHR5cGVvZiB6aFJlZ0V4cC5jcmVhdGU7XG5cbmV4cG9ydCB7IGlzUmVnRXhwLCBwYXJzZVJlZ3VsYXJFeHByZXNzaW9uU3RyaW5nIH1cblxuZXhwb3J0IGludGVyZmFjZSBJQXBpPFQgPSB6aFJlZ0V4cD5cbntcblx0KHN0cjogc3RyaW5nIHwgUmVnRXhwLCBmbGFncz86IHN0cmluZywgb3B0aW9ucz86IElPcHRpb25zIHwgc3RyaW5nKTogVCxcblx0KHN0cjogc3RyaW5nIHwgUmVnRXhwLCBvcHRpb25zPzogSU9wdGlvbnMpOiBULFxufVxuXG4vLyBAdHMtaWdub3JlXG5leHBvcnQgY29uc3QgdmVyc2lvbjogc3RyaW5nO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ2ZXJzaW9uXCIsIHtcblx0Z2V0KClcblx0e1xuXHRcdHJldHVybiByZXF1aXJlKCcuL3BhY2thZ2UuanNvbicpLnZlcnNpb25cblx0fVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHpoUmVnRXhwO1xuIl19